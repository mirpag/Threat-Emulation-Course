---
cover: >-
  https://images.unsplash.com/photo-1523961131990-5ea7c61b2107?crop=entropy&cs=srgb&fm=jpg&ixid=MnwxOTcwMjR8MHwxfHNlYXJjaHw0fHx0ZWNofGVufDB8fHx8MTY0NTk5MDg4Mg&ixlib=rb-1.2.1&q=85
coverY: 0
---

# Destructive v. Non-Destructive

This gets into a destructive and non destructive because the antivirus or EDR tool may block Mimicatz, so it never gets to actually run and execute. As a result, you don't know how Mimicatz will really behave in your organization, if a threat actor is able to bypass or disable your antivirus, or your EDR tool. So you're going to remove or disable your antivirus program and EDR temporarily, because you have to pretend that the threat actor knows how to disable and bypass your defenses. That's all.&#x20;

Now the key difference between a pen test and a threat emulation exercise is that you're going to be disabling controls and pretending the threat actor bypasses them. It's really important that you do and understand that. You can disable the antivirus and then you're going to go to the next step of the threat actors behavior and see what that response would be.&#x20;

Now here's a good thing. One thing is you're looking at is what logs are being generated when that behavior is emulated. Did your control block that style of attack? Yes, that's a good thing. It means that if a threat actor carries out their known behavior, then your multiple layers of control are actually working as expected. So if they do bypass or disable your antivirus, for example, your EDR tool blocked it. And if it did bypass your antivirus EDR tool, then your multi factor authentication on remote systems blocked it. You're just slowly stepping through all the behaviors of the threat actor until that whatever goal it is, is reached.&#x20;

The destructive versus non-destructive really kind of gets into the motivations of the threat group. What is their motivation? What do they want to do when they are in the system? Now, if you know the threat actor uses a certain type of ransomware or a ransomware group, you don't really want to encrypt your documents in your organization. That could disrupt production potentially. If you know that the file is encrypted, and has a specific file name, you just make a copy of that file with the ransomware file name in your threat emulation exercise. Then see how your controls behave based on that, or what logs are being generated as a result of that. That's a _**non-destructive**_ way to test or emulate a real destructive behavior. You make a copy with the file name with the unknown extension for that malware, in some cases ransomware. Or, you can choose to actually encrypt files. It's entirely up to you. I don't recommend it unless you can do it on a system that's not in production, but looks exactly like a real system in production. For example, you may set up a read only domain controller and then put up a put an age on it to see how it behaves and see what kind of information you get back from it. You want to perform the test still, you want to know what information an adversary can get back.&#x20;

You may choose to image a system, and put all the latest patches and security controls on it. That becomes one of your emulation points in your organization. Just like with a real threat actor, if you have 200 computers in your organization, you don't have to test all 200 computers. I would say use a minimal sample. Have each major version of your services. If you have server 2016 or 2019, put an agent on each one of those setup a read only domain controller or a temporary domain controller with an agent on it. You can see what kind of information will be will be retrieved if someone really does attack your Active Directory server. That's the difference between destructive and nondestructive.&#x20;

So just in summary, with a SOC monitoring hundreds of networks, you may not be able to duplicate all those. So, you will set up an offline network and you would test or run through the threat emulation plan exercise. Then you're extracting all relevant logs and behaviors, so you can create a playbook and then apply that to your Sim. If you're doing this in an organization, you may want to have an offline network, but have it look and behave like your real network. Or you can have a few systems.&#x20;

If you have a 200 computers in your network, and your network becomes compromised by threat actors, they're not going to compromise all 200 computers. That's just generally not the behavior. They're going to most likely attack 10 to 15 computers. This depends on the motivations, and how persistent they want to be. You can emulate that with virtual machines on hosts. Or, if you have spare computers that you can perform these activities on, be sure they're on the network and then choose how you want to perform destructive activities that the adversary would do. You don't want to break production or disable mission critical life and death system.
